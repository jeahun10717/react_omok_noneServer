{"ast":null,"code":"const {\n  element\n} = require('prop-types');\n\nconst copyArr = require('../rules/arrayCopy');\n\nexports.prohibit3by3 = (plateArr, lineNum, i, j) => {\n  let tmpArr;\n  tmpArr = copyArr.arrayCopy(plateArr, tmpArr, lineNum);\n  let check3By3Arr = [];\n\n  for (let i = 0; i < 4; i++) {\n    check3By3Arr[i] = 1;\n  }\n\n  for (let depth = 1; depth < 4; depth++) {\n    if (i - depth >= 0) {\n      if (tmpArr[i - depth][j] === 1) {\n        check3By3Arr[0] = check3By3Arr[0] + tmpArr[i - depth][j]; // Up\n      }\n    }\n\n    if (i + depth <= 14) {\n      if (tmpArr[i + depth][j] === 1) {\n        check3By3Arr[0] = check3By3Arr[0] + tmpArr[i + depth][j]; // Down\n      }\n    }\n\n    if (i - depth >= 0 && j + depth <= 14) {\n      if (tmpArr[i - depth][j + depth] === 1) {\n        check3By3Arr[1] = check3By3Arr[1] + tmpArr[i - depth][j + depth]; // Right Up\n      }\n    }\n\n    if (i + depth <= 14 && j - depth >= 0) {\n      if (tmpArr[i + depth][j - depth] === 1) {\n        check3By3Arr[1] = check3By3Arr[1] + tmpArr[i + depth][j - depth]; // Left Down\n      }\n    }\n\n    if (j + depth <= 14) {\n      if (tmpArr[i][j + depth] === 1) {\n        check3By3Arr[2] = check3By3Arr[2] + tmpArr[i][j + depth]; // Right\n      }\n    }\n\n    if (j - depth >= 0) {\n      if (tmpArr[i][j - depth] === 1) {\n        check3By3Arr[2] = check3By3Arr[2] + tmpArr[i][j - depth]; // Left\n      }\n    }\n\n    if (i + depth <= 14 && j + depth <= 14) {\n      if (tmpArr[i + depth][j + depth] === 1) {\n        check3By3Arr[3] = check3By3Arr[3] + tmpArr[i + depth][j + depth]; // Right Down           \n      }\n    }\n\n    if (i - depth >= 0 && j - depth >= 0) {\n      if (tmpArr[i - depth][j - depth] === 1) {\n        check3By3Arr[3] = check3By3Arr[3] + tmpArr[i - depth][j - depth]; // Left Up\n      }\n    } // const check3Num = check3By3Arr.filter(i=>3 === i).length;\n    // console.log(\"test!!!!!!!!!!1\", check3By3Arr);\n\n  }\n\n  let threeCnt = check3By3Arr.filter(element => element >= 3).length;\n  let threeState = Array.from(Array(4).fill(false));\n\n  if (threeCnt > 1) {\n    // 3 라인일 때\n    for (let q = 0; q < 4; q++) {\n      if (check3By3Arr[q] === 3) {\n        if (threeLineChk(tmpArr, q, i, j) === \"3By3\") {\n          threeState[q] = true;\n        } else if (threeLineChk(tmpArr, q, i, j) === \"none3By3\") {\n          threeState[q] = false;\n        }\n      }\n    } // 4 라인일 떄 \n\n  }\n\n  console.log(threeState);\n\n  if (threeState.filter(i => i === true).length >= 2) {\n    return \"prohibit\";\n  } // if(threeCnt>1) {\n  //     \n  //     // console.log(threeState);\n  //     // console.log(threeState.find(element=>element===0));\n  //     if(threeState.find(element=>element===0)){\n  //     }else if(threeState.find(element=>element===0)){\n  //     }else if(threeState.find(element=>element===0)){\n  //     }else if(threeState.find(element=>element===0)){\n  //     }\n  // }\n\n};\n\nexports.prohibit4By4 = (plateArr, lineNum, i, j) => {\n  let tmpArr;\n  tmpArr = copyArr.arrayCopy(plateArr, tmpArr, lineNum);\n  let check4By4Arr = [];\n\n  for (let x = 0; x < 4; x++) {\n    check4By4Arr[x] = fourBlackCnt(tmpArr, x, i, j);\n  }\n\n  if (check4By4Arr.filter(element => element === 4).length >= 2) {\n    // 1줄에 4인개 2개 이상일 때\n    for (let x = 0; x < 4; x++) {\n      if (check4By4Arr[x] === 4) {\n        // 4개인 부붙의 인덱스를 확인하기 위한 for 문\n        fourCheck(tmpArr, check4By4Arr, x, i, j);\n      }\n    }\n  }\n};\n\nfunction threeLineChk(arr, line, i, j) {\n  // line 은 방향\n  if (line === 0) {\n    let blackCnt = 0;\n    let firstBlack = [];\n    let lastBlack = [];\n    let tmpBlackArr = [];\n\n    for (let x = 0; x < 7; x++) {\n      // 위에서부터 차례로\n      if (i - 3 + x >= 0 && i - 3 + x <= 14) {\n        // 7개를 차례로 보되 인덱스가 0 이하 14 이상은 배열이 없으므로 패스\n        if (arr[i - 3 + x][j] === 1) {\n          blackCnt++;\n        }\n\n        if (blackCnt === 1 && arr[i - 3 + x][j] === 1) {\n          firstBlack = [i - 3 + x, j];\n        }\n\n        if (blackCnt === 3 && arr[i - 3 + x][j] === 1) {\n          lastBlack = [i - 3 + x, j];\n        }\n      }\n    }\n\n    for (let y = 0; y < lastBlack[0] - firstBlack[0] + 1; y++) {\n      tmpBlackArr[y] = arr[firstBlack[0] + y][firstBlack[1]];\n    }\n\n    if (tmpBlackArr.length <= 4) {\n      // 4칸 이\n      if (tmpBlackArr.filter(i => i === -1).length === 1) {\n        return \"none3By3\";\n      } else {\n        if (firstBlack[0] - 1 < 0 || lastBlack[0] + 1 > 14) {\n          // 3개 놓은 돌 중에 위아래가 벽인 경우\n          return \"none3By3\";\n        } else if (arr[firstBlack[0] - 1][firstBlack[1]] === -1 || arr[lastBlack[0] + 1][lastBlack[1]] === -1) {\n          return \"none3By3\";\n        } else if (arr[firstBlack[0] - 1][firstBlack[1]] === 0 && arr[lastBlack[0] + 1][lastBlack[1]] === 0) {\n          return \"3By3\";\n        }\n      }\n    } else {\n      return \"none3By3\";\n    }\n  } else if (line === 1) {\n    let blackCnt = 0;\n    let firstBlack = [];\n    let lastBlack = [];\n    let tmpBlackArr = [];\n\n    for (let x = 0; x < 7; x++) {\n      // 위에서부터 차례로\n      if (i - 3 + x >= 0 && i - 3 + x <= 14 && j + 3 - x >= 0 && j + 3 - x <= 14) {\n        // 7개를 차례로 보되 인덱스가 0 이하 14 이상은 배열이 없으므로 패스\n        if (arr[i - 3 + x][j + 3 - x] === 1) {\n          blackCnt++;\n        }\n\n        if (blackCnt === 1 && arr[i - 3 + x][j + 3 - x] === 1) {\n          firstBlack = [i - 3 + x, j + 3 - x];\n        }\n\n        if (blackCnt === 3 && arr[i - 3 + x][j + 3 - x] === 1) {\n          lastBlack = [i - 3 + x, j + 3 - x];\n        }\n      }\n    }\n\n    for (let y = 0; y < lastBlack[0] - firstBlack[0] + 1; y++) {\n      tmpBlackArr[y] = arr[firstBlack[0] + y][firstBlack[1] - y];\n    }\n\n    if (tmpBlackArr.length <= 4) {\n      // 4칸 이\n      if (tmpBlackArr.filter(i => i === -1).length === 1) {\n        return \"none3By3\";\n      } else {\n        if (firstBlack[0] - 1 < 0 && firstBlack[1] + 1 > 14 || lastBlack[0] + 1 > 14 && lastBlack[0] - 1 < 0) {\n          // 3개 놓은 돌 중에 위아래가 벽인 경우\n          return \"none3By3\";\n        } else if (arr[firstBlack[0] - 1][firstBlack[1] + 1] === -1 || arr[lastBlack[0] + 1][lastBlack[1] - 1] === -1) {\n          return \"none3By3\";\n        } else if (arr[firstBlack[0] - 1][firstBlack[1] + 1] === 0 && arr[lastBlack[0] + 1][lastBlack[1] - 1] === 0) {\n          return \"3By3\";\n        }\n      }\n    } else {\n      return \"none3By3\";\n    }\n  } else if (line === 2) {\n    let blackCnt = 0;\n    let firstBlack = [];\n    let lastBlack = [];\n    let tmpBlackArr = [];\n\n    for (let x = 0; x < 7; x++) {\n      // 위에서부터 차례로\n      if (j + 3 - x >= 0 && j + 3 - x <= 14) {\n        // 7개를 차례로 보되 인덱스가 0 이하 14 이상은 배열이 없으므로 패스\n        if (arr[i][j + 3 - x] === 1) {\n          blackCnt++;\n        }\n\n        if (blackCnt === 1 && arr[i][j + 3 - x] === 1) {\n          firstBlack = [i, j + 3 - x];\n        }\n\n        if (blackCnt === 3 && arr[i][j + 3 - x] === 1) {\n          lastBlack = [i, j + 3 - x];\n        }\n      }\n    }\n\n    console.log(firstBlack, lastBlack);\n\n    for (let x = 0; x < firstBlack[1] - lastBlack[1] + 1; x++) {\n      tmpBlackArr[x] = arr[firstBlack[0]][firstBlack[1] - x];\n    }\n\n    console.log(tmpBlackArr);\n\n    if (tmpBlackArr.length <= 4) {\n      // 4칸 이\n      if (tmpBlackArr.filter(i => i === -1).length === 1) {\n        return \"none3By3\";\n      } else {\n        if (firstBlack[1] + 1 > 14 || lastBlack[1] - 1 < 0) {\n          // 3개 놓은 돌 중에 위아래가 벽인 경우\n          return \"none3By3\";\n        } else if (arr[firstBlack[0]][firstBlack[1] + 1] === -1 || arr[lastBlack[0]][lastBlack[1] - 1] === -1) {\n          return \"none3By3\";\n        } else if (arr[firstBlack[0]][firstBlack[1] + 1] === 0 && arr[lastBlack[0]][lastBlack[1] - 1] === 0) {\n          return \"3By3\";\n        }\n      }\n    } else {\n      return \"none3By3\";\n    }\n  } else if (line === 3) {\n    let blackCnt = 0;\n    let firstBlack = [];\n    let lastBlack = [];\n    let tmpBlackArr = [];\n\n    for (let x = 0; x < 7; x++) {\n      // 위에서부터 차례로\n      if (i + 3 - x >= 0 && i + 3 - x <= 14 && j + 3 - x >= 0 && j + 3 - x <= 14) {\n        // 7개를 차례로 보되 인덱스가 0 이하 14 이상은 배열이 없으므로 패스\n        if (arr[i + 3 - x][j + 3 - x] === 1) {\n          blackCnt++;\n        }\n\n        if (blackCnt === 1 && arr[i + 3 - x][j + 3 - x]) {\n          firstBlack = [i + 3 - x, j + 3 - x];\n        }\n\n        if (blackCnt === 3 && arr[i + 3 - x][j + 3 - x]) {\n          lastBlack = [i + 3 - x, j + 3 - x];\n        }\n      }\n    }\n\n    for (let y = 0; y < lastBlack[0] - firstBlack[0] + 1; y++) {\n      tmpBlackArr[y] = arr[firstBlack[0] - y][firstBlack[1] - y];\n    }\n\n    if (tmpBlackArr.length <= 4) {\n      // 4칸 이\n      if (tmpBlackArr.filter(i => i === -1).length === 1) {\n        return \"none3By3\";\n      } else {\n        if (firstBlack[0] + 1 > 14 && firstBlack[1] + 1 > 14 || lastBlack[0] - 1 < 0 && lastBlack[0] - 1 < 0) {\n          // 3개 놓은 돌 중에 위아래가 벽인 경우\n          return \"none3By3\";\n        } else if (arr[firstBlack[0] + 1][firstBlack[1] + 1] === -1 || arr[lastBlack[0] - 1][lastBlack[1] - 1] === -1) {\n          return \"none3By3\";\n        } else if (arr[firstBlack[0] + 1][firstBlack[1] + 1] === 0 && arr[lastBlack[0] - 1][lastBlack[1] - 1] === 0) {\n          return \"3By3\";\n        }\n      }\n    } else {\n      return \"none3By3\";\n    }\n  }\n}\n\nfunction fourCheck(arr, checkArr, line, i, j) {\n  if (line === 0) {\n    let firstBlack = [];\n    let lastBlack = [];\n    let tmpBlackArr = [];\n    let blackCnt = 0;\n\n    for (let k = -4; k <= 4; k++) {\n      if (i + k >= 0 && i + k <= 14) {\n        // UP to DOWN : i 의 범위는 0~14까지만 가능\n        if (arr[i + k][j] === 1) {\n          blackCnt++;\n        }\n\n        if (blackCnt === 1 && arr[i + k][j] === 1) {\n          firstBlack = [i + k, j];\n        }\n\n        if (blackCnt === 4 && arr[i + k][j] === 1) {\n          lastBlack = [i + k, j];\n        }\n      }\n    }\n\n    for (let y = 0; y < lastBlack[0] - firstBlack[0] + 1; y++) {\n      tmpBlackArr[y] = arr[firstBlack[0] + y][firstBlack[1]];\n    }\n\n    if (tmpBlackArr.length <= 4) {\n      if (tmpBlackArr.filter(element => element === -1).length === 1) {\n        return \"none4By4\";\n      } else {\n        return \"4By4\";\n      }\n    }\n  } else if (line === 1) {\n    let firstBlack = [];\n    let lastBlack = [];\n    let tmpBlackArr = [];\n    let blackCnt = 0;\n\n    for (let k = -4; k <= 4; k++) {\n      if (i + k >= 0 && i + k <= 14 && j - k >= 0 && j - k <= 14) {\n        // RIGHT_UP to LEFT_DOWN : i 의 범위는 0~14까지만 가능\n        if (arr[i + k][j - k] === 1) {\n          blackCnt++;\n        }\n\n        if (blackCnt === 1 && arr[i + k][j - k] === 1) {\n          firstBlack = [i + k, j - k];\n        }\n\n        if (blackCnt === 4 && arr[i + k][j - k] === 1) {\n          lastBlack = [i + k, j - k];\n        }\n      }\n    }\n\n    for (let y = 0; y < lastBlack[0] - firstBlack[0] + 1; y++) {\n      tmpBlackArr[y] = arr[firstBlack[0] + y][firstBlack[1] - y];\n    }\n\n    if (tmpBlackArr.length <= 4) {\n      if (tmpBlackArr.filter(element => element === -1).length === 1) {\n        return \"none4By4\";\n      } else {\n        return \"4By4\";\n      }\n    }\n  } else if (line === 2) {\n    let firstBlack = [];\n    let lastBlack = [];\n    let blackCnt = 0;\n\n    for (let k = -4; k <= 4; k++) {\n      if (j + k >= 0 && j + k <= 14) {\n        // DOWN TO UP : i 의 범위는 0~14까지만 가능\n        if (arr[i][j - k] === 1) {\n          blackCnt++;\n        }\n\n        if (blackCnt === 1 && arr[i + k][j - k] === 1) {\n          firstBlack = [i, j - k];\n        }\n\n        if (blackCnt === 4 && arr[i + k][j - k] === 1) {\n          lastBlack = [i, j - k];\n        }\n      }\n    }\n\n    for (let x = 0; x < firstBlack[1] - lastBlack[1] + 1; x++) {\n      tmpBlackArr[x] = arr[firstBlack[0]][firstBlack[1] - x];\n    }\n\n    return blackCnt;\n  } else if (line === 3) {\n    let firstBlack = [];\n    let lastBlack = [];\n    let blackCnt = 0;\n\n    for (let k = -4; k <= 4; k++) {\n      if (i - k >= 0 && i - k <= 14 && j - k >= 0 && j - k <= 14) {\n        // RIGHT_DOWN to LEFT_UP : i 의 범위는 0~14까지만 가능\n        if (arr[i][j + k] === 1) {\n          blackCnt++;\n        }\n      }\n    }\n\n    return blackCnt;\n  }\n}\n\nfunction fourBlackCnt(arr, line, i, j) {\n  // 착수지점 기준으로 4방향의 배열에서 흑돌이 갯수 측정\n  if (line === 0) {\n    let firstBlack = [];\n    let lastBlack = [];\n    let blackCnt = 0;\n\n    for (let k = -4; k <= 4; k++) {\n      if (i + k >= 0 && i + k <= 14) {\n        // UP to DOWN : i 의 범위는 0~14까지만 가능\n        if (arr[i + k][j] === 1) {\n          blackCnt++;\n        } //     if(blackCnt === 1 && arr[i + k][j]){\n        //         firstBlack = [i + k, j]\n        //     }\n        //     if(blackCnt === 4 && arr[i + k][j]){\n        //         lastBlack = [i + k][j]\n        //     }\n        // }\n\n      } // if(blackCnt === 4){ // 검은돌이 4개 나왔을 때\n      //     if(lastBlack[0]-firstBlack[0]===4){ // 검은돌이 5개 이하 일 때\n      //     }else if(lastBlack[0]-firstBlack[0]===5){\n      //     }\n\n    }\n\n    return blackCnt;\n  } else if (line === 1) {\n    let firstBlack = [];\n    let lastBlack = [];\n    let blackCnt = 0;\n\n    for (let k = -4; k <= 4; k++) {\n      if (i + k >= 0 && i + k <= 14 && j - k >= 0 && j - k <= 14) {\n        // RIGHT_UP to LEFT_DOWN : i 의 범위는 0~14까지만 가능\n        if (arr[i + k][j - k] === 1) {\n          blackCnt++;\n        }\n      }\n    }\n\n    return blackCnt;\n  } else if (line === 2) {\n    let firstBlack = [];\n    let lastBlack = [];\n    let blackCnt = 0;\n\n    for (let k = -4; k <= 4; k++) {\n      if (j + k >= 0 && j + k <= 14) {\n        // DOWN TO UP : i 의 범위는 0~14까지만 가능\n        if (arr[i][j - k] === 1) {\n          blackCnt++;\n        }\n      }\n    }\n\n    return blackCnt;\n  } else if (line === 3) {\n    let firstBlack = [];\n    let lastBlack = [];\n    let blackCnt = 0;\n\n    for (let k = -4; k <= 4; k++) {\n      if (i - k >= 0 && i - k <= 14 && j - k >= 0 && j - k <= 14) {\n        // RIGHT_DOWN to LEFT_UP : i 의 범위는 0~14까지만 가능\n        if (arr[i][j + k] === 1) {\n          blackCnt++;\n        }\n      }\n    }\n\n    return blackCnt;\n  }\n}","map":{"version":3,"sources":["/Users/seongjehun/Desktop/study/reactPrac/omok/src/rules/prohibitRule.js"],"names":["element","require","copyArr","exports","prohibit3by3","plateArr","lineNum","i","j","tmpArr","arrayCopy","check3By3Arr","depth","threeCnt","filter","length","threeState","Array","from","fill","q","threeLineChk","console","log","prohibit4By4","check4By4Arr","x","fourBlackCnt","fourCheck","arr","line","blackCnt","firstBlack","lastBlack","tmpBlackArr","y","checkArr","k"],"mappings":"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","sourcesContent":["const { element } = require('prop-types');\nconst copyArr = require('../rules/arrayCopy')\n\nexports.prohibit3by3 = (plateArr, lineNum, i, j) => {\n    let tmpArr;\n    tmpArr = copyArr.arrayCopy(plateArr, tmpArr, lineNum);\n    let check3By3Arr = [];\n    for (let i = 0; i < 4; i++) {\n        check3By3Arr[i] = 1;\n    }\n    for (let depth = 1; depth < 4; depth++) {\n        if (i - depth >= 0) {\n            if (tmpArr[i - depth][j] === 1) {\n                check3By3Arr[0] = check3By3Arr[0] + tmpArr[i - depth][j] // Up\n            }\n\n        }\n        if (i + depth <= 14) {\n            if (tmpArr[i + depth][j] === 1) {\n                check3By3Arr[0] = check3By3Arr[0] + tmpArr[i + depth][j] // Down\n            }\n\n        }\n        if (i - depth >= 0 && j + depth <= 14) {\n            if (tmpArr[i - depth][j + depth] === 1) {\n                check3By3Arr[1] = check3By3Arr[1] + tmpArr[i - depth][j + depth] // Right Up\n            }\n\n        }\n        if (i + depth <= 14 && j - depth >= 0) {\n            if (tmpArr[i + depth][j - depth] === 1) {\n                check3By3Arr[1] = check3By3Arr[1] + tmpArr[i + depth][j - depth] // Left Down\n            }\n\n        }\n        if (j + depth <= 14) {\n            if (tmpArr[i][j + depth] === 1) {\n                check3By3Arr[2] = check3By3Arr[2] + tmpArr[i][j + depth] // Right\n            }\n\n        }\n        if (j - depth >= 0) {\n            if (tmpArr[i][j - depth] === 1) {\n                check3By3Arr[2] = check3By3Arr[2] + tmpArr[i][j - depth] // Left\n            }\n\n        }\n        if (i + depth <= 14 && j + depth <= 14) {\n            if (tmpArr[i + depth][j + depth] === 1) {\n                check3By3Arr[3] = check3By3Arr[3] + tmpArr[i + depth][j + depth] // Right Down           \n            }\n\n        }\n        if (i - depth >= 0 && j - depth >= 0) {\n            if (tmpArr[i - depth][j - depth] === 1) {\n                check3By3Arr[3] = check3By3Arr[3] + tmpArr[i - depth][j - depth] // Left Up\n            }\n\n        }\n        // const check3Num = check3By3Arr.filter(i=>3 === i).length;\n        // console.log(\"test!!!!!!!!!!1\", check3By3Arr);\n    }\n    let threeCnt = check3By3Arr.filter(element => element >= 3).length;\n\n    let threeState = Array.from(Array(4).fill(false))\n    if (threeCnt > 1) {\n        // 3 라인일 때\n        for (let q = 0; q < 4; q++) {\n            if (check3By3Arr[q] === 3) {\n                if (threeLineChk(tmpArr, q, i, j) === \"3By3\") {\n                    threeState[q] = true\n                } else if (threeLineChk(tmpArr, q, i, j) === \"none3By3\") {\n                    threeState[q] = false\n                }\n            }\n        }\n        // 4 라인일 떄 \n    }\n    console.log(threeState);\n    if (threeState.filter(i => i === true).length >= 2) {\n        return \"prohibit\"\n    }\n    // if(threeCnt>1) {\n    //     \n    //     // console.log(threeState);\n    //     // console.log(threeState.find(element=>element===0));\n    //     if(threeState.find(element=>element===0)){\n\n    //     }else if(threeState.find(element=>element===0)){\n\n    //     }else if(threeState.find(element=>element===0)){\n\n    //     }else if(threeState.find(element=>element===0)){\n\n    //     }\n    // }\n}\n\nexports.prohibit4By4 = (plateArr, lineNum, i, j) => {\n    let tmpArr;\n    tmpArr = copyArr.arrayCopy(plateArr, tmpArr, lineNum);\n    let check4By4Arr = [];\n    for (let x = 0; x < 4; x++) {\n        check4By4Arr[x] = fourBlackCnt(tmpArr, x, i, j);\n    }\n    if (check4By4Arr.filter(element => element === 4).length >= 2) { // 1줄에 4인개 2개 이상일 때\n        for (let x = 0; x < 4; x++) {\n            if(check4By4Arr[x]===4){    // 4개인 부붙의 인덱스를 확인하기 위한 for 문\n                fourCheck(tmpArr, check4By4Arr, x, i, j);                \n            }\n        }\n    }\n}\n\nfunction threeLineChk(arr, line, i, j) { // line 은 방향\n    if (line === 0) {\n        let blackCnt = 0;\n        let firstBlack = [];\n        let lastBlack = [];\n        let tmpBlackArr = [];\n        for (let x = 0; x < 7; x++) { // 위에서부터 차례로\n            if (i - 3 + x >= 0 && i - 3 + x <= 14) { // 7개를 차례로 보되 인덱스가 0 이하 14 이상은 배열이 없으므로 패스\n\n                if (arr[i - 3 + x][j] === 1) {\n                    blackCnt++\n                }\n                if (blackCnt === 1 && arr[i - 3 + x][j] === 1) {\n                    firstBlack = [i - 3 + x, j]\n                }\n                if (blackCnt === 3 && arr[i - 3 + x][j] === 1) {\n                    lastBlack = [i - 3 + x, j]\n                }\n            }\n        }\n        for (let y = 0; y < (lastBlack[0] - firstBlack[0]) + 1; y++) {\n            tmpBlackArr[y] = arr[firstBlack[0] + y][firstBlack[1]]\n        }\n        if (tmpBlackArr.length <= 4) { // 4칸 이\n            if (tmpBlackArr.filter(i => i === -1).length === 1) {\n                return \"none3By3\"\n            } else {\n                if (firstBlack[0] - 1 < 0 || lastBlack[0] + 1 > 14) { // 3개 놓은 돌 중에 위아래가 벽인 경우\n                    return \"none3By3\"\n                } else if (arr[firstBlack[0] - 1][firstBlack[1]] === -1 || arr[lastBlack[0] + 1][lastBlack[1]] === -1) {\n                    return \"none3By3\"\n                } else if (arr[firstBlack[0] - 1][firstBlack[1]] === 0 && arr[lastBlack[0] + 1][lastBlack[1]] === 0) {\n                    return \"3By3\"\n                }\n            }\n        } else {\n            return \"none3By3\"\n        }\n    } else if (line === 1) {\n        let blackCnt = 0;\n        let firstBlack = [];\n        let lastBlack = [];\n        let tmpBlackArr = [];\n        for (let x = 0; x < 7; x++) { // 위에서부터 차례로\n            if (i - 3 + x >= 0 && i - 3 + x <= 14 && j + 3 - x >= 0 && j + 3 - x <= 14) { // 7개를 차례로 보되 인덱스가 0 이하 14 이상은 배열이 없으므로 패스\n\n                if (arr[i - 3 + x][j + 3 - x] === 1) {\n                    blackCnt++\n                }\n                if (blackCnt === 1 && arr[i - 3 + x][j + 3 - x] === 1) {\n                    firstBlack = [i - 3 + x, j + 3 - x]\n                }\n                if (blackCnt === 3 && arr[i - 3 + x][j + 3 - x] === 1) {\n                    lastBlack = [i - 3 + x, j + 3 - x]\n                }\n            }\n        }\n        for (let y = 0; y < (lastBlack[0] - firstBlack[0]) + 1; y++) {\n            tmpBlackArr[y] = arr[firstBlack[0] + y][firstBlack[1] - y]\n        }\n        if (tmpBlackArr.length <= 4) { // 4칸 이\n            if (tmpBlackArr.filter(i => i === -1).length === 1) {\n                return \"none3By3\"\n            } else {\n                if ((firstBlack[0] - 1 < 0 && firstBlack[1] + 1 > 14) || (lastBlack[0] + 1 > 14 && lastBlack[0] - 1 < 0)) { // 3개 놓은 돌 중에 위아래가 벽인 경우\n                    return \"none3By3\"\n                } else if (arr[firstBlack[0] - 1][firstBlack[1] + 1] === -1 || arr[lastBlack[0] + 1][lastBlack[1] - 1] === -1) {\n                    return \"none3By3\"\n                } else if (arr[firstBlack[0] - 1][firstBlack[1] + 1] === 0 && arr[lastBlack[0] + 1][lastBlack[1] - 1] === 0) {\n                    return \"3By3\"\n                }\n            }\n        } else {\n            return \"none3By3\"\n        }\n    } else if (line === 2) {\n        let blackCnt = 0;\n        let firstBlack = [];\n        let lastBlack = [];\n        let tmpBlackArr = [];\n        for (let x = 0; x < 7; x++) { // 위에서부터 차례로\n            if (j + 3 - x >= 0 && j + 3 - x <= 14) { // 7개를 차례로 보되 인덱스가 0 이하 14 이상은 배열이 없으므로 패스\n\n                if (arr[i][j + 3 - x] === 1) {\n                    blackCnt++\n                }\n                if (blackCnt === 1 && arr[i][j + 3 - x] === 1) {\n                    firstBlack = [i, j + 3 - x]\n                }\n                if (blackCnt === 3 && arr[i][j + 3 - x] === 1) {\n                    lastBlack = [i, j + 3 - x]\n                }\n            }\n        }\n        console.log(firstBlack, lastBlack)\n        for (let x = 0; x < (firstBlack[1] - lastBlack[1]) + 1; x++) {\n            tmpBlackArr[x] = arr[firstBlack[0]][firstBlack[1] - x]\n        }\n        console.log(tmpBlackArr);\n        if (tmpBlackArr.length <= 4) { // 4칸 이\n            if (tmpBlackArr.filter(i => i === -1).length === 1) {\n                return \"none3By3\"\n            } else {\n                if (firstBlack[1] + 1 > 14 || lastBlack[1] - 1 < 0) { // 3개 놓은 돌 중에 위아래가 벽인 경우\n                    return \"none3By3\"\n                } else if (arr[firstBlack[0]][firstBlack[1] + 1] === -1 || arr[lastBlack[0]][lastBlack[1] - 1] === -1) {\n                    return \"none3By3\"\n                } else if (arr[firstBlack[0]][firstBlack[1] + 1] === 0 && arr[lastBlack[0]][lastBlack[1] - 1] === 0) {\n                    return \"3By3\"\n                }\n            }\n        } else {\n            return \"none3By3\"\n        }\n    } else if (line === 3) {\n        let blackCnt = 0;\n        let firstBlack = [];\n        let lastBlack = [];\n        let tmpBlackArr = [];\n        for (let x = 0; x < 7; x++) { // 위에서부터 차례로\n            if (i + 3 - x >= 0 && i + 3 - x <= 14 && j + 3 - x >= 0 && j + 3 - x <= 14) { // 7개를 차례로 보되 인덱스가 0 이하 14 이상은 배열이 없으므로 패스\n\n                if (arr[i + 3 - x][j + 3 - x] === 1) {\n                    blackCnt++\n                }\n                if (blackCnt === 1 && arr[i + 3 - x][j + 3 - x]) {\n                    firstBlack = [i + 3 - x, j + 3 - x]\n                }\n                if (blackCnt === 3 && arr[i + 3 - x][j + 3 - x]) {\n                    lastBlack = [i + 3 - x, j + 3 - x]\n                }\n            }\n        }\n        for (let y = 0; y < (lastBlack[0] - firstBlack[0]) + 1; y++) {\n            tmpBlackArr[y] = arr[firstBlack[0] - y][firstBlack[1] - y]\n        }\n        if (tmpBlackArr.length <= 4) { // 4칸 이\n            if (tmpBlackArr.filter(i => i === -1).length === 1) {\n                return \"none3By3\"\n            } else {\n                if ((firstBlack[0] + 1 > 14 && firstBlack[1] + 1 > 14) || (lastBlack[0] - 1 < 0 && lastBlack[0] - 1 < 0)) { // 3개 놓은 돌 중에 위아래가 벽인 경우\n                    return \"none3By3\"\n                } else if (arr[firstBlack[0] + 1][firstBlack[1] + 1] === -1 || arr[lastBlack[0] - 1][lastBlack[1] - 1] === -1) {\n                    return \"none3By3\"\n                } else if (arr[firstBlack[0] + 1][firstBlack[1] + 1] === 0 && arr[lastBlack[0] - 1][lastBlack[1] - 1] === 0) {\n                    return \"3By3\"\n                }\n            }\n        } else {\n            return \"none3By3\"\n        }\n    }\n}\n\nfunction fourCheck(arr, checkArr, line, i, j) {\n    if (line === 0) {\n        let firstBlack = [];\n        let lastBlack = [];\n        let tmpBlackArr = [];\n        let blackCnt = 0;\n        for (let k = -4; k <= 4; k++) {\n            if (i + k >= 0 && i + k <= 14) { // UP to DOWN : i 의 범위는 0~14까지만 가능\n                if (arr[i + k][j] === 1) {\n                    blackCnt++;\n                }\n                if(blackCnt === 1 && arr[i+k][j]===1){\n                    firstBlack = [i+k, j]\n                }\n                if(blackCnt === 4 && arr[i+k][j]===1){\n                    lastBlack = [i+k, j]\n                }\n            }\n        }\n        for (let y = 0; y < (lastBlack[0]-firstBlack[0]+1); y++) {\n            tmpBlackArr[y] = arr[firstBlack[0] + y][firstBlack[1]]\n        }\n        if(tmpBlackArr.length <= 4){\n            if(tmpBlackArr.filter(element=>element === -1).length===1){\n                return \"none4By4\"\n            }else{\n                return \"4By4\"\n            }\n        }\n    } else if (line === 1) {\n        let firstBlack = [];\n        let lastBlack = [];\n        let tmpBlackArr = [];\n        let blackCnt = 0;\n        for (let k = -4; k <= 4; k++) {\n            if (i + k >= 0 && i + k <= 14 && j - k >= 0 && j - k <= 14) { // RIGHT_UP to LEFT_DOWN : i 의 범위는 0~14까지만 가능\n                if (arr[i + k][j - k] === 1) {\n                    blackCnt++;\n                }\n                if(blackCnt === 1 && arr[i+k][j-k]===1){\n                    firstBlack = [i+k, j-k]\n                }\n                if(blackCnt === 4 && arr[i+k][j-k]===1){\n                    lastBlack = [i+k, j-k]\n                }\n            }\n        }\n        for (let y = 0; y < (lastBlack[0] - firstBlack[0]) + 1; y++) {\n            tmpBlackArr[y] = arr[firstBlack[0] + y][firstBlack[1] - y]\n        }\n        if(tmpBlackArr.length <= 4){\n            if(tmpBlackArr.filter(element=>element === -1).length===1){\n                return \"none4By4\"\n            }else{\n                return \"4By4\"\n            }\n        }\n    } else if (line === 2) {\n        let firstBlack = [];\n        let lastBlack = [];\n        let blackCnt = 0;\n        for (let k = -4; k <= 4; k++) {\n            if (j + k >= 0 && j + k <= 14) { // DOWN TO UP : i 의 범위는 0~14까지만 가능\n                if (arr[i][j - k] === 1) {\n                    blackCnt++;\n                }\n                if(blackCnt === 1 && arr[i+k][j-k]===1){\n                    firstBlack = [i, j-k]\n                }\n                if(blackCnt === 4 && arr[i+k][j-k]===1){\n                    lastBlack = [i, j-k]\n                }\n            }\n        }\n        for (let x = 0; x < (firstBlack[1] - lastBlack[1]) + 1; x++) {\n            tmpBlackArr[x] = arr[firstBlack[0]][firstBlack[1] - x]\n        }\n        return blackCnt;\n    } else if (line === 3) {\n        let firstBlack = [];\n        let lastBlack = [];\n        let blackCnt = 0;\n        for (let k = -4; k <= 4; k++) {\n            if (i - k >= 0 && i - k <= 14 && j - k >= 0 && j - k <= 14) { // RIGHT_DOWN to LEFT_UP : i 의 범위는 0~14까지만 가능\n                if (arr[i][j + k] === 1) {\n                    blackCnt++;\n                }\n            }\n        }\n        return blackCnt;\n    }\n}\n\nfunction fourBlackCnt(arr, line, i, j) { // 착수지점 기준으로 4방향의 배열에서 흑돌이 갯수 측정\n    if (line === 0) {\n        let firstBlack = [];\n        let lastBlack = [];\n        let blackCnt = 0;\n        for (let k = -4; k <= 4; k++) {\n            if (i + k >= 0 && i + k <= 14) { // UP to DOWN : i 의 범위는 0~14까지만 가능\n                if (arr[i + k][j] === 1) {\n                    blackCnt++;\n                }\n                //     if(blackCnt === 1 && arr[i + k][j]){\n                //         firstBlack = [i + k, j]\n                //     }\n                //     if(blackCnt === 4 && arr[i + k][j]){\n                //         lastBlack = [i + k][j]\n                //     }\n                // }\n            }\n            // if(blackCnt === 4){ // 검은돌이 4개 나왔을 때\n            //     if(lastBlack[0]-firstBlack[0]===4){ // 검은돌이 5개 이하 일 때\n\n            //     }else if(lastBlack[0]-firstBlack[0]===5){\n\n            //     }\n        }\n        return blackCnt;\n    } else if (line === 1) {\n        let firstBlack = [];\n        let lastBlack = [];\n        let blackCnt = 0;\n        for (let k = -4; k <= 4; k++) {\n            if (i + k >= 0 && i + k <= 14 && j - k >= 0 && j - k <= 14) { // RIGHT_UP to LEFT_DOWN : i 의 범위는 0~14까지만 가능\n                if (arr[i + k][j - k] === 1) {\n                    blackCnt++;\n                }\n            }\n        }\n        return blackCnt;\n    } else if (line === 2) {\n        let firstBlack = [];\n        let lastBlack = [];\n        let blackCnt = 0;\n        for (let k = -4; k <= 4; k++) {\n            if (j + k >= 0 && j + k <= 14) { // DOWN TO UP : i 의 범위는 0~14까지만 가능\n                if (arr[i][j - k] === 1) {\n                    blackCnt++;\n                }\n            }\n        }\n        return blackCnt;\n    } else if (line === 3) {\n        let firstBlack = [];\n        let lastBlack = [];\n        let blackCnt = 0;\n        for (let k = -4; k <= 4; k++) {\n            if (i - k >= 0 && i - k <= 14 && j - k >= 0 && j - k <= 14) { // RIGHT_DOWN to LEFT_UP : i 의 범위는 0~14까지만 가능\n                if (arr[i][j + k] === 1) {\n                    blackCnt++;\n                }\n            }\n        }\n        return blackCnt;\n    }\n}"]},"metadata":{},"sourceType":"module"}